html,body { width:100%; height:100%; margin:0; padding: 0; border:none; }

/* Positioning */
#game, #buttons, #balloons, #level {
 position: absolute;
 left: 0; right: 0;
 overflow: hidden;
}
#level { bottom: 0; height: 400%; }
#game { top: 0; bottom: 160px; }
#buttons { bottom: 0; height: 160px; }
#balloons { height: 25%; bottom: 0; }
#buttons {
 background: black;
 text-align: center;
 white-space: nowrap;
}
#buttons > a {
 display: inline-block;
 width: 200px; height: 160px;
}
#buttons > a {
 background-image: url('images/button-overlay.png');
 background-repeat: no-repeat;
 padding:0; margin: 0;
 -webkit-tap-highlight-color: rgba(0,0,0,0);
 tap-highlight-color: rgba(0,0,0,0);
}
#buttons > a.black  { background-color: #030303; }
#buttons > a.lilac  { background-color: #ce72b9; }
#buttons > a.orange { background-color: #ef7c11; }
#buttons > a.white  { background-color: #cacaca; }
#buttons > a.yellow { background-color: #ffff00; }

#buttons > a.hover {
 background-image: url('images/button-overlay-hover.png');
}


/* Graphics */
#background,
#background > div {
  position: absolute;
  left: 0; right: 0;
}
#background {
  top: 0; bottom: 0;
}
#background > div {
  height: 25%;
}
#background > .ground       { bottom: 0; }
#background > .troposphere  { bottom: 25%; }
#background > .stratosphere { bottom: 50%; }
#background > .mesosphere   { bottom: 75%; }
.grass #background {
  background-color: #000;
  background-image: url('images/grass-back.png');
  background-repeat: repeat-x;
  background-position: bottom;
}
.grass #background .satellite1,
.grass #background .satellite2,
.grass #background .cloud {
  position: absolute;
  width: 200%; min-width: 1600px;
  left: 0;
  background-repeat: repeat-x;
}

.grass #background .satellite1 {
  height: 362px;
  background-image: url('images/satellite1.png');
  bottom: 25%;
}
.grass #background .satellite2 {
  height: 117px;
  background-image: url('images/satellite2.png');
  top: 25%;
}

.grass #background .cloud {
  height: 162px;
  background-image: url('images/cloud-small.png');
}
.grass #background .c1 { background-position: 166px 0; bottom: 75%; }
.grass #background .c2 { background-position: -100px 0; bottom: 50%; }
.grass #background .c3 { background-position: 433px 0; bottom: 25%; }

.grass #background .stars {
  position: absolute;
  top: 0; bottom: 0; left: 0; right: 0;
  background: url('images/star-tile.png') repeat;
}
.grass #foreground, .grass #sprouts {
  position: absolute;
  left: 0; right: 0;
  text-align: center;
  white-space: nowrap;
}
.grass #foreground {
  bottom: 0; height:243px;
  background: url('images/grass-front.png') repeat-x;
}
.grass #foreground .award, .grass #sprouts .award {
  display: inline-block;
  width: 90px;
  background-repeat: no-repeat;
  margin-left: 5px; margin-right: 5px;
}
.grass #foreground .award {
  background-image: url('images/award.png'); /* blank fallback image */
  height: 124px;
  margin-top: 116px;
  -webkit-transform: translate3d(0,138px,0);
}
.grass #foreground .award.a1 {
  background-image: url('images/award1.png');
}
.grass #foreground .award.a2 {
  background-image: url('images/award2.png');
}
.grass #foreground .award.a3 {
  background-image: url('images/award3.png');
}
.grass #foreground .award.a4 {
  background-image: url('images/award4.png');
}
.grass #foreground .award.a5 {
  background-image: url('images/award5.png');
}
.grass #foreground .award.a6 {
  background-image: url('images/award6.png');
}
.grass #foreground .award.a7 {
  background-image: url('images/award7.png');
}
.grass #foreground .award.a8 {
  background-image: url('images/award8.png');
}
.grass #foreground .award.show {
  -webkit-transform: translate3d(0,0,0) !important;
  -webkit-transition-property: -webkit-transform;
  -webkit-transition-duration: 1.5s;
  -webkit-transition-timing-function: ease-in-out;

  -moz-transform: translate(0,0) !important;
  -moz-transition-property: -moz-transform;
  -moz-transition-duration: 1.5s;
  -moz-transition-timing-function: ease-in-out;
}
.grass #foreground .award.flex {
  position: absolute;
  top: 0; left: 0;
  display: none;
}
.grass #sprouts .award {
  background-image: url('images/sprout1-lg.png');
  background-position: bottom right;
  width: 238px; height: 885px;
  /* adjust to effective width of 100px to match shields */
  margin-left: -20px; margin-right: -118px;
  -webkit-transform: translate3d(0,138px,0) scale(.143,.078);
  -webkit-transition-property: -webkit-transform;
  -webkit-transition-duration: 1.5s;
  -webkit-transition-timing-function: ease-in-out;
  -webkit-transform-origin: 70px bottom;

  -moz-transform: translate(0,138px) scale(.143,.078);
  -moz-transition-property: -moz-transform;
  -moz-transition-duration: 1.5s;
  -moz-transition-timing-function: ease-in-out;
  -moz-transform-origin: 70px bottom;
}
.grass #sprouts .award.show {
  -webkit-transform: translate3d(0,0,0);
  -moz-transform: translate(0,0);
}
.grass #sprouts {
  height: 885px;
  bottom: 104px;
}
.grass #hero {
  position: absolute;
  bottom: 0; height: 388px;
  left: 227px; width: 151px;
  background: url('images/grass-hero.png') no-repeat;
}
/* make sure #nell>div gets pointer events */
#clouds, #clouds > *, #foreground, #sprouts, #hero, #balloons {
  pointer-events: none;
}
/* don't highlight nell when she is tapped */
#nell, #nell * {
 -webkit-tap-highlight-color: rgba(0,0,0,0);
 tap-highlight-color: rgba(0,0,0,0);
}
#nell {
  position: absolute;
  left: 0; right: 0;
  bottom: 0; height: 25%;
}
#nell > div {
  position: absolute; right: 0;
}
#nell > .ground { bottom: 0; }
#nell > .troposphere { bottom: 100%; }
#nell > .stratosphere { bottom: 200%; }
#nell > .mesosphere { bottom: 300%; }

#nell > .ground {
  width: 197px; height: 466px;
}
#nell > .ground > .nell {
  position: absolute; right: -124px; bottom: 15px;
}
#nell > .troposphere {
  width: 260px; height: 865px;
}
#nell > .troposphere > .nellscaler {
  position: absolute; right: -67px; bottom: 55px;
  clip: rect(auto,auto,220px,auto);
  -webkit-transform-origin: bottom right;
  -webkit-transform: scale3d(0.62,0.62,1);
  -moz-transform-origin: bottom right;
  -moz-transform: scale3d(0.62,0.62,1);
}
#nell > .troposphere .nell {
  position: absolute; right: 0; bottom: 0;
}
#nell > .troposphere > .hotair {
  position: absolute;
  width: 510px; height: 825px;
  bottom: 39px; right: -250px;
  background: url('images/hotair.png') no-repeat;
}
#nell > .stratosphere {
  width: 561px; height: 305px;
  -webkit-transform: rotate(8deg) translate3d(-10px,0,0);
  -moz-transform: rotate(8deg) translate(-10px,0);
}
#nell > .stratosphere > .nellscaler {
  position: absolute; bottom: 117px; right: 138px;
  clip: rect(52px,auto,220px,auto);
  -webkit-transform-origin: bottom left;
  -webkit-transform: scale3d(0.3,0.3,1);
  -moz-transform-origin: bottom left;
  -moz-transform: scale3d(0.3,0.3,1);
}
#nell > .stratosphere .jet1,
#nell > .stratosphere .jet2 {
  position: absolute; bottom: 0; right: 0;
  width: 561px; height: 305px;
  background-repeat: no-repeat;
}
#nell .jet1 {
  background-image: url('images/jet1.png');
}
#nell .jet2 {
  background-image: url('images/jet2.png');
}
#nell > .mesosphere {
  width: 255px; height: 473px;
  -webkit-transform: translate3d(0,-153px,0);
  -moz-transform: translate(0,-153px);

}
#nell > .mesosphere > .nellscaler {
  position: absolute; top: 36px; left: -99px;
  -webkit-transform-origin: top center;
  -webkit-transform: rotate(-39.5deg);
  -moz-transform-origin: top center;
  -moz-transform: rotate(-39.5deg);
}
#nell > .mesosphere .astronaut1,
#nell > .mesosphere .astronaut2 {
  position: absolute; bottom: 0; left: 0;
  width: 393px; height: 473px;
  background-repeat: no-repeat;
}
#nell .astronaut1 {
  background-image: url('images/astronaut1.png');
}
#nell .astronaut2 {
  background-image: url('images/astronaut2.png');
}
/* layout for nell parts */
#nell .nell,
#nell .nellscaler {
  width: 321px; height: 466px;
}
#nell .nell > div {
  position: absolute;
  left: 0; right: 0;
  top: 0; bottom: 0;
  background-repeat: no-repeat;
}
#nell .hair { background-image: url('images/nell-hair.png'); }
#nell .body { background-image: url('images/nell-body.png'); }
#nell .head { background-image: url('images/nell-head.png'); }

#nell.n0 .body,
#nell.n0 .head { background-position: 0px 0px; }
#nell.n1 .body,
#nell.n1 .head { background-position: -321px 0px; }
#nell.n2 .body,
#nell.n2 .head { background-position: -642px 0px; }
#nell.n3 .body,
#nell.n3 .head { background-position: -963px 0px; }
#nell.n4 .body,
#nell.n4 .head { background-position: -1284px 0px; }
#nell.n5 .body,
#nell.n5 .head { background-position: -1605px 0px; }
#nell.n6 .body,
#nell.n6 .head { background-position: -1926px 0px; }
#nell.n7 .body,
#nell.n7 .head { background-position: -2247px 0px; }
#nell.n8 .body,
#nell.n8 .head { background-position: -2568px 0px; }
#nell.n9 .body,
#nell.n9 .head { background-position: -2889px 0px; }
#nell.n10 .body,
#nell.n10 .head { background-position: -3210px 0px; }

.grass #clouds {
  position: absolute;
  left: 0; right: 0;
  bottom: 152px; height: 25%;
}
.grass #clouds > div {
  position: absolute;
  left: 0; right: 0; height: 294px;
  background: url('images/clouds.png') repeat-x;
  background-position: -200px 0;
}
.grass #clouds > .troposphere {
  top: 0;
}
.grass #clouds > .stratosphere {
  top: -100%;
}
.grass #clouds > .mesosphere {
  top: -200%;
  -webkit-animation-delay: -1s;
}
.grass #clouds > .stars {
  top: -300%;
  background-image: url('images/star.png');
  background-position: bottom left;
}

#balloons > div, #balloons > div > div {
  position: absolute;
  top: 0; left: 0;
  width: 140px; height: 275px;
  background-repeat: no-repeat;
}
#balloons > .black > div {
  background-image: url('images/balloon-black.png');
}
#balloons > .lilac > div {
  background-image: url('images/balloon-lilac.png');
}
#balloons > .orange > div {
  background-image: url('images/balloon-orange.png');
}
#balloons > .white > div {
  background-image: url('images/balloon-white.png');
}
#balloons > .yellow > div {
  background-image: url('images/balloon-yellow.png');
}
#balloons > .popped > div {
  background-image: url('images/bang.png') !important;
}

/* ------------------ animation ------------------- */
@-webkit-keyframes balloon-squirt {
   0% {
    -webkit-transform: translate3d(0,0,0) rotate(0deg);
   }
   1% {
    -webkit-transform: translate3d(71px,-71px,0) rotate(40deg);
   }
   2% {
    -webkit-transform: translate3d(190px,-120px,0) rotate(90deg);
   }
   3% {
    -webkit-transform: translate3d(350px,10px,0) rotate(160deg);
   }
   4% {
    -webkit-transform: translate3d(370px,250px,0) rotate(180deg);
   }
   5% {
    -webkit-transform: translate3d(300px,500px,0) rotate(230deg);
   }
   6% {
    -webkit-transform: translate3d(100px,700px,0) rotate(250deg);
   }
   7% {
    -webkit-transform: translate3d(-400px,750px,0) rotate(275deg);
   }
   8% {
    -webkit-transform: translate3d(-1000px,650px,0) rotate(290deg);
   }
   /* work around a Android/Honeycomb bug applying the animation-fill
    * property by just leaving the animation in the end state for a long
    * while. */
   100% {
    -webkit-transform: translate3d(-1000px,650px,0) rotate(290deg);
   }
}
@-moz-keyframes balloon-squirt {
   0% {
    -moz-transform: translate(0,0) rotate(0deg);
   }
   1% {
    -moz-transform: translate(71px,-71px) rotate(40deg);
   }
   2% {
    -moz-transform: translate(190px,-120px) rotate(90deg);
   }
   3% {
    -moz-transform: translate(350px,10px) rotate(160deg);
   }
   4% {
    -moz-transform: translate(370px,250px) rotate(180deg);
   }
   5% {
    -moz-transform: translate(300px,500px) rotate(230deg);
   }
   6% {
    -moz-transform: translate(100px,700px) rotate(250deg);
   }
   7% {
    -moz-transform: translate(-400px,750px) rotate(275deg);
   }
   8% {
    -moz-transform: translate(-1000px,650px) rotate(290deg);
   }
   100% {
    -moz-transform: translate(-1000px,650px) rotate(290deg);
   }
}
#balloons > .squirt > div {
  -webkit-animation: balloon-squirt 15625ms linear forwards;
  -moz-animation: balloon-squirt 15625ms linear forwards;
  -webkit-transform-origin: 74px 83px;
  -moz-transform-origin: 74px 83px;
}

/* ------------ nell breathing animation ---------- */

/* keyframe animation of nell, w/ inspiration from
   http://samuli.hakoniemi.net/having-fun-with-css-keyframes/ */
@-webkit-keyframes nell-breathe-head {
    0% {
        -webkit-transform: rotate(-0.75deg) translate3d(0px, 0px, 0px);
    }
    40% {
        -webkit-transform: rotate(1.5deg) translate3d(0px, -1px, 0px);
    }
    100% {
        -webkit-transform: rotate(-0.75deg) translate3d(0px, 0px, 0px);
    }
}
@-moz-keyframes nell-breathe-head {
    0% {
        -moz-transform: rotate(-0.75deg) translate(0px, 0px);
    }
    40% {
        -moz-transform: rotate(1.5deg) translate(0px, -1px);
    }

    100% {
        -moz-transform: rotate(-0.75deg) translate(0px, 0px);
    }
}
@-webkit-keyframes nell-breathe-body {
    0% {
        -webkit-transform: translate3d(0px,0px,0px);
    }

    40% {
        -webkit-transform: translate3d(0px,-3px,0px);
    }

    100% {
        -webkit-transform: translate3d(0px,0px,0px);
    }
}
@-moz-keyframes nell-breathe-body {
    0% {
        -moz-transform: translate(0px,0px);
    }

    40% {
        -moz-transform: translate(0px,-3px);
    }

    100% {
        -moz-transform: translate(0px,0px);
    }
}
.anim #nell .ground .nell,
.anim #nell .troposphere .nell {
    -webkit-animation: nell-breathe-body 3000ms infinite both ease-in-out;
    -moz-animation: nell-breathe-body 3000ms infinite both ease-in-out;
}
.anim #nell .ground .head,
.anim #nell .ground .hair,
.anim #nell .troposphere .head,
.anim #nell .troposphere .hair {
    -webkit-animation: nell-breathe-head 3000ms infinite both ease-in-out;
    -moz-animation: nell-breathe-head 3000ms infinite both ease-in-out;
    -webkit-transform-origin: 140px 148px;
    -moz-transform-origin: 140px 148px;
}

/* ----------- hot air balloon animation --------- */
@-webkit-keyframes hotair-bob {
    0% {
      -webkit-transform: rotate(-1deg);
    }
    50% {
      -webkit-transform: rotate(1deg) translate3d(-5px,-5px,0);
    }
    100% {
      -webkit-transform: rotate(-1deg);
    }
}
@-moz-keyframes hotair-bob {
    0% {
      -moz-transform: rotate(-1deg);
    }
    50% {
      -moz-transform: rotate(1deg) translate(-5px,-5px);
    }
    100% {
      -moz-transform: rotate(-1deg);
    }
}
.anim #nell .troposphere {
    -webkit-animation: hotair-bob 15s infinite both ease-in-out;
    -moz-animation: hotair-bob 15s infinite both ease-in-out;
}
/* ----------- jet animation --------- */
@-webkit-keyframes jet-bob {
    0% {
      -webkit-transform: rotate(8deg) translate3d(-10px,0,0);
    }
    50% {
      -webkit-transform: rotate(0deg) translate3d(0px,-20px,0);
    }
    100% {
      -webkit-transform: rotate(8deg) translate3d(-10px,0,0);
    }
}
@-moz-keyframes jet-bob {
    0% {
      -moz-transform: rotate(8deg) translate(-10px,0);
    }
    50% {
      -moz-transform: rotate(0deg) translate(0px,-20px);
    }
    100% {
      -moz-transform: rotate(8deg) translate(-10px,0);
    }
}
.anim #nell .stratosphere {
    -webkit-animation: jet-bob 20s infinite both ease-in-out;
    -moz-animation: jet-bob 20s infinite both ease-in-out;
}
/* ----------- astronaut animation --------- */
@-webkit-keyframes astronaut-bob {
    0% {
      -webkit-transform: translate3d(0,-153px,0);
    }
    50% {
      -webkit-transform: rotate(5deg) translate3d(0px,-200px,0);
    }
    100% {
      -webkit-transform: translate3d(0,-153px,0);
    }
}
@-moz-keyframes astronaut-bob {
    0% {
      -moz-transform: translate(0,-153px);
    }
    50% {
      -moz-transform: rotate(0deg) translate(0px,-20px);
    }
    100% {
      -moz-transform: translate(0,-153px);
    }
}
.anim #nell .mesosphere {
    -webkit-animation: astronaut-bob 20s infinite both ease-in-out;
    -moz-animation: astronaut-bob 20s infinite both ease-in-out;
}
/* ----------- bug animation ----------- */
@-webkit-keyframes hero-shake {
    0% {
      -webkit-transform: rotate(1deg) translate3d(0,0,0);
    }
    50% {
      -webkit-transform: rotate(-1deg) translate3d(0,0,0);
    }
    100% {
      -webkit-transform: rotate(1deg) translate3d(0,0,0);
    }
}
@-moz-keyframes hero-shake {
    0% {
      -moz-transform: rotate(1deg);
    }
    50% {
      -moz-transform: rotate(-1deg);
    }
    100% {
      -moz-transform: rotate(1deg);
    }
}
.anim .grass #hero {
    -webkit-animation: hero-shake 5000ms infinite both ease-in-out;
    -moz-animation: hero-shake 5000ms infinite both ease-in-out;
    -webkit-transform-origin: center right;
    -moz-transform-origin: center right;
}

/* ----------- cloud divider animation ----------- */
@-webkit-keyframes clouds-drift {
  0% {
    background-position: 0px 0px;
  }
  100% {
    background-position: 1109px 0px;
  }
}
@-moz-keyframes clouds-drift {
  0% {
    background-position: 0px 0px;
  }
  100% {
    background-position: 1109px 0px;
  }
}
.grass #clouds > div {
  -webkit-animation: clouds-drift 180s infinite normal none linear;
  -moz-animation: clouds-drift 180s infinite normal none linear;
}
.grass #clouds > .stratosphere {
  -webkit-animation-delay: -60s;
  -webkit-animation-duration: 160s;
  -moz-animation-delay: -60s;
  -moz-animation-duration: 160s;
}
.grass #clouds > .mesosphere {
  -webkit-animation-delay: -120s;
  -webkit-animation-duration: 140s;
  -moz-animation-delay: -120s;
  -moz-animation-duration: 140s;
}
.grass #clouds > .stars {
  -webkit-animation: none;
  -moz-animation: none;
}

/* ----------- cloud and satellite background animation ----------- */
@-webkit-keyframes background-drift {
  0% {
    -webkit-transform: translate3d(-800px,0,0);
  }
  100% {
    -webkit-transform: translate3d(0px,0,0);
  }
}
@-moz-keyframes background-drift {
  0% {
    -moz-transform: translate(-800px,0);
  }
  100% {
    -moz-transform: translate(0px,0);
  }
}
.grass #background .cloud,
.grass #background .satellite1,
.grass #background .satellite2 {
  -webkit-animation: background-drift 200s infinite normal none linear;
  -moz-animation: background-drift 200s infinite normal none linear;
}
